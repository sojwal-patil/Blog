{% extends "dashboard/dashboard-base.html" %}
{% block title %}Dashboard{% endblock title %}

{% block index-main %}

<div class="max-w-6xl mx-auto px-6 py-10">

  <!-- Header -->
  <div class="mb-8">
    <h1 class="text-2xl font-semibold text-gray-900">Your Posts</h1>
    <p class="text-sm text-gray-500 mt-1">{{ posts|length }} total posts</p>
  </div>

  <!-- Table Container -->
  <div class="overflow-hidden rounded-2xl border border-gray-200 bg-white">

    <table class="w-full text-sm">

      <!-- Table Head -->
      <thead class="bg-gray-50 text-gray-600">
        <tr>
          <th class="text-left px-6 py-4 font-medium">Post</th>
          <th class="text-left px-6 py-4 font-medium">Published</th>
          <th class="text-center px-6 py-4 font-medium">Actions</th>
        </tr>
      </thead>

      <!-- Table Body -->
      <tbody class="divide-y divide-gray-100">

        {% for post in posts %}
        <tr class="hover:bg-gray-50 transition">

          <td class="px-6 py-4 font-medium text-gray-900">
            {{ post.title }}
          </td>

          <td class="px-6 py-4 text-gray-500">
            {{ post.date|date:"M d, Y" }}
          </td>

          <td class="px-6 py-4">
            <div class="flex justify-center items-center gap-5">

              <a href="{% url 'single_post' post.slug %}"
                 class="text-gray-500 hover:text-blue-600 transition">
                <i class="fa-regular fa-eye"></i>
              </a>

              <form method="POST" action="{% url 'delete' post.slug %}">
                {% csrf_token %}
                <button type="submit"
                        onclick="return confirm('Are you sure?')"
                        class="text-gray-500 hover:text-red-600 transition">
                  <i class="fa-solid fa-trash-can"></i>
                </button>
              </form>

            </div>
          </td>

        </tr>

        {% empty %}
        <tr>
          <td colspan="3" class="text-center py-12 text-gray-400">
            No posts created yet.
          </td>
        </tr>
        {% endfor %}

      </tbody>

    </table>

  </div>

</div>

{% endblock index-main %}